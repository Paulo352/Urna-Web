"use strict";(()=>{var e={};e.id=405,e.ids=[405,660],e.modules={6030:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.r(t),a.d(t,{config:()=>g,default:()=>h,getServerSideProps:()=>v,getStaticPaths:()=>x,getStaticProps:()=>m,reportWebVitals:()=>S,routeModule:()=>y,unstable_getServerProps:()=>P,unstable_getServerSideProps:()=>N,unstable_getStaticParams:()=>f,unstable_getStaticPaths:()=>b,unstable_getStaticProps:()=>j});var s=a(7093),n=a(5244),i=a(1323),o=a(2899),l=a.n(o),c=a(9413),d=a.n(c),u=a(1852),p=e([u]);u=(p.then?(await p)():p)[0];let h=(0,i.l)(u,"default"),m=(0,i.l)(u,"getStaticProps"),x=(0,i.l)(u,"getStaticPaths"),v=(0,i.l)(u,"getServerSideProps"),g=(0,i.l)(u,"config"),S=(0,i.l)(u,"reportWebVitals"),j=(0,i.l)(u,"unstable_getStaticProps"),b=(0,i.l)(u,"unstable_getStaticPaths"),f=(0,i.l)(u,"unstable_getStaticParams"),P=(0,i.l)(u,"unstable_getServerProps"),N=(0,i.l)(u,"unstable_getServerSideProps"),y=new s.PagesRouteModule({definition:{kind:n.x.PAGES,page:"/index",pathname:"/",bundlePath:"",filename:""},components:{App:d(),Document:l()},userland:u});r()}catch(e){r(e)}})},2888:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.d(t,{Z:()=>p});var s=a(997),n=a(6689),i=a(8536),o=a(2917),l=a(5406),c=a(7015),d=a(6201),u=e([i,o,l,c,d]);[i,o,l,c,d]=u.then?(await u)():u;let p=()=>{let[e,t]=(0,n.useState)(""),[a,r]=(0,n.useState)(""),[i,u]=(0,n.useState)([]),[p,h]=(0,n.useState)(null),[m,x]=(0,n.useState)("Presidente"),[v,g]=(0,n.useState)("");(0,n.useEffect)(()=>{(async()=>{let e=await (0,l.OY)(m);u(e)})()},[m]);let S=a=>{if(e.length<2){let r=e+a;if(t(r),2===r.length){let e=i.find(e=>e.number===r);h(e||{number:r,name:"Nulo",position:m})}}},j=async()=>{if(!a){g("Digite sua matr\xedcula");return}let e=await (0,c.Lz)(a);if(!e){g("Eleitor n\xe3o cadastrado");return}if(e.hasVoted){g("Este eleitor j\xe1 votou");return}let s={candidateId:p?.id||"blank",matricula:a,position:m},n=await (0,o.dS)(s);n.success?(await (0,c.F_)(e.id),d.toast.success("Voto registrado com sucesso!"),t(""),h(null),r(""),g("")):g(n.error||"Erro ao registrar voto")};return(0,s.jsxs)("div",{className:"ballot-box",children:[s.jsx("h2",{children:"Urna Eletr\xf4nica"}),s.jsx("div",{className:"position-selector",children:(0,s.jsxs)("select",{value:m,onChange:e=>{x(e.target.value),t(""),h(null)},children:[s.jsx("option",{value:"Presidente",children:"Presidente"}),s.jsx("option",{value:"Governador",children:"Governador"}),s.jsx("option",{value:"Senador",children:"Senador"})]})}),s.jsx("div",{className:"voter-auth",children:s.jsx("input",{type:"text",placeholder:"N\xfamero de Matr\xedcula",value:a,onChange:e=>r(e.target.value)})}),s.jsx("div",{className:"display",children:s.jsx("input",{type:"text",value:e,readOnly:!0})}),p&&(0,s.jsxs)("div",{className:"candidate-info",children:[s.jsx("h3",{children:p.position}),(0,s.jsxs)("p",{children:[p.number," - ",p.name]}),p.party&&s.jsx("p",{children:p.party})]}),(0,s.jsxs)("div",{className:"keypad",children:[[1,2,3,4,5,6,7,8,9,0].map(e=>s.jsx("button",{onClick:()=>S(e.toString()),children:e},e)),s.jsx("button",{onClick:()=>{t(""),h(null)},children:"CORRIGE"}),s.jsx("button",{onClick:()=>{t(""),h({name:"Voto em Branco",position:m})},children:"BRANCO"})]}),s.jsx("button",{className:"confirm-btn",onClick:j,children:"CONFIRMAR"}),v&&s.jsx("div",{className:"message",children:v})]})};r()}catch(e){r(e)}})},1852:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.r(t),a.d(t,{default:()=>c});var s=a(997),n=a(8536),i=a(2888),o=a(4299);!function(){var e=Error("Cannot find module '../components/Login'");throw e.code="MODULE_NOT_FOUND",e}();var l=e([n,i,o]);function c(){let{currentUser:e,hasRole:t}=(0,n.a)();return e?s.jsx("div",{className:"container",children:t("admin")?s.jsx(o.Z,{}):s.jsx(i.Z,{})}):s.jsx(Object(function(){var e=Error("Cannot find module '../components/Login'");throw e.code="MODULE_NOT_FOUND",e}()),{})}[n,i,o]=l.then?(await l)():l,r()}catch(e){r(e)}})},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{e.exports=require("react")},997:e=>{e.exports=require("react/jsx-runtime")},5315:e=>{e.exports=require("path")},401:e=>{e.exports=import("firebase/auth")},1492:e=>{e.exports=import("firebase/firestore")},6201:e=>{e.exports=import("react-hot-toast")}};var t=require("../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[899,458],()=>a(6030));module.exports=r})();